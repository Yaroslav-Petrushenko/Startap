
function $(e){let t=document.querySelectorAll(e);return 1==t.length?t[0]:t}let parallaxStartPos;const parallaxBG=document.querySelectorAll(".parallax");function moveBackground(e){let t=e.pageY-window.pageYOffset-e.target.getBoundingClientRect().top+1,n=50+e.pageX/window.innerWidth*15,l=50+t/window.innerHeight*20;e.target.style.backgroundPosition=`${n}% ${l}%`}parallaxBG.forEach((e=>{e.style.backgroundPosition="center",e.addEventListener("mousemove",(function(e){moveBackground(e)}))}));let interval,menu=document.querySelectorAll(".top-menu a");function scrollToBlock(e){let t,n,l=document.querySelector(e).getBoundingClientRect().top+window.pageYOffset,o=window.pageYOffset,i=1;t=l>o?"down":"up",clearInterval(interval),interval=setInterval((()=>{n=Math.abs(l-window.pageYOffset),i<=45&&n>.25*window.innerHeight?i*=1.3:n<.25*window.innerHeight&&i>3&&(i*=.7),"down"==t?window.scrollTo(0,window.pageYOffset+i):window.scrollTo(0,window.pageYOffset-i),Math.abs(window.pageYOffset-l)<=3?(window.scrollTo(0,l),clearInterval(interval)):Math.abs(window.pageYOffset+window.innerHeight-document.body.getBoundingClientRect().height)<5&&clearInterval(interval)}),20)}menu.forEach((e=>{e.onclick=function(e){e.preventDefault(),scrollToBlock(this.getAttribute("href"))}}));let firstVisit,lastVisit,timeInSite,firstTimeInSite,hamburger=document.querySelector(".hamburger"),nmenu=document.querySelector(".navmenu");hamburger.onclick=function(){nmenu.classList.toggle("active-burger")},window.onload=function(){localStorage.firstVisit&&"undefined"!=localStorage.firstVisit||(localStorage.firstVisit=new Date),firstVisit=localStorage.firstVisit,localStorage.lastVisit||(localStorage.lastVisit=firstVisit),timeInSite=(new Date-new Date(localStorage.lastVisit))/1e3/60,timeInSite>5?console.log("Welcome to STARTUP"):timeInSite>1440?console.log("Тебе не було цілий день"):timeInSite>2880&&(console.log("де тебе носило так довго"),window.onblur=function(){localStorage.lastVisit=new Date},lastVisit=localStorage.lastVisit)};let svgfigur=document.querySelector(".sv svg"),trople=document.querySelectorAll(".personal h3");svgfigur.addEventListener("click",(function(e){3===e.detail&&trople.forEach((e=>{e.innerHTML="New text triple click"}))}));const animItems=document.querySelectorAll("._anim-start");if(animItems.length>0){function animOnScroll(){animItems.forEach((e=>{const t=e,n=t.offsetHeight,l=offset(t).top;let o=window.innerHeight-n/4;n>window.innerHeight&&(o=window.innerHeight-window.innerHeight/4),window.pageYOffset>l-o&&window.pageYOffset<l+n?t.classList.add("_active-anim"):t.classList.contains("_anim-no")||t.classList.remove("_active-anim")}))}function offset(e){const t=e.getBoundingClientRect();let n=window.pageXOffset||document.documentElement.scrollLeft,l=window.pageYOffset||document.documentElement.scrollTop;return{top:t.top+l,left:t.left+n}}window.addEventListener("scroll",animOnScroll),setTimeout((()=>{animOnScroll()}),200)}const sliderProps={arrows:!0,autoPlay:!0};function infinitySlider(e,t){let n,l,o,i,r,a,s=0,c=document.querySelector(e),d=c.querySelector(".slider-card"),g=d.getBoundingClientRect().width,f=d.children,u=document.createElement("span"),w=document.createElement("span");localStorage[c.id]?r=localStorage[c.id]:(r=f[0].getBoundingClientRect().width,localStorage[c.id]=r),a=Math.floor(g/r),c.querySelectorAll(".clone").forEach((e=>{e.remove()})),t={slideToScrollAll:!1,gap:20,arrows:!1,autoPlay:!1,autoPlaySpead:3e3,...t},i=t.gap,n=(g-(a-1)*i)/a,s=0-(i+n);let m=1;do{o=f[f.length-m].cloneNode(!0),o.classList.add("clone"),o.style.transition="none",d.insertAdjacentElement("afterbegin",o),m++}while(m<=a&&t.slideToScrollAll);console.log(a),o.classList.contains("clone")&&setTimeout((()=>{o.style.transition="all 1s ease-in-out"}),1),f=d.children;for(let e=0;e<f.length;e++)f[e].style.width=n+"px";function h(){s=0-(i+n),w.className="cards-slider left",u.className="cards-slider right",document.querySelectorAll(".cards-slider").length||(c.insertAdjacentElement("afterbegin",w),c.insertAdjacentElement("beforeend",u),w.onclick=function(){p("left")},u.onclick=function(){p("right")}),!t.arrows||f.length-1<=a?(w.style.display="none",u.style.display="none"):t.arrows&&(w.style.display="block",u.style.display="block");for(let e=0;e<f.length;e++)f[e].style.left=s+"px",s+=i+n}function p(e){if("left"==e){f[f.length-1].remove();let e=f[f.length-1].cloneNode(!0);e.classList.add("clone"),d.insertAdjacentElement("afterbegin",e),f[1].classList.remove("clone")}else if("right"==e){f[0].remove();let e=f[0].cloneNode(!0);e.classList.add("clone"),d.insertAdjacentElement("beforeend",e),f[f.length-2].classList.remove("clone")}h()}l=f[0].getBoundingClientRect().height,d.style.height=l+"px",h()}window.onresize=function(){infinitySlider(".slider",sliderProps)},infinitySlider(".slider",sliderProps);